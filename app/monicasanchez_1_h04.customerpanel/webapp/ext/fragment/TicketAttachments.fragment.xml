<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros" xmlns:u="sap.ui.unified" >
	<VBox core:require="{ handler: 'monicasanchez1h04/customerpanel/ext/fragment/TicketAttachments'}">
		<Button text="TicketAttachments" press="handler.onPress" />
		<Table items="{vista>/attachments}" alternateRowColors="true" id="tableAttachments" mode="MultiSelect" busy="{vista>/busyTableAttachments}"
			sticky="HeaderToolbar,ColumnHeaders">
			<headerToolbar>
				<OverflowToolbar width="100%">
					<ToolbarSpacer />
                    <u:FileUploader
						busy="{vista>/busyUploadFile}"
                        id="uploadAttachmentTickets"
                        icon="sap-icon://add" 
						busyIndicatorDelay="100"
						httpRequestMethod="Put"
						uploadUrl="{vista>/urlUploadAttachments}"
                        buttonOnly="true"
                        buttonText="Upload Media"
                        uploadOnChange="false"
                        useMultipart="false"
                        change="handler.onUploadChangeTickets"
                        uploadComplete="handler.onUploadCompleteTickets"
						sendXHR="true"
                    />
				</OverflowToolbar>
			</headerToolbar>
			<columns>
				<Column>
					<Text text="{i18n>filename}"/>
				</Column>
				<Column width="9em">
					<Text text="{i18n>mediaType}"/>
				</Column>
				<Column vAlign="Middle" hAlign="Center" width="4em">
					<Text text=""/>
				</Column>
			</columns>
			<items>
				<ColumnListItem highlight="{= ${vista>buttonType} === 'Accept' ? 'Success' : ${vista>buttonType} === 'Reject' ? 'Error' : 'None' }">
					<cells>
						
						<Text text="{vista>attachmentName}"/>
						<Text text="{vista>mediaType}"/>
						<VBox>
							<core:Icon src="sap-icon://navigation-right-arrow" press="navToDetail"/>
							<core:Icon src="sap-icon://navigation-right-arrow" press="navToDetail"/>
						</VBox>
					</cells>
				</ColumnListItem>
			</items>
		</Table>
	</VBox>
</core:FragmentDefinition>