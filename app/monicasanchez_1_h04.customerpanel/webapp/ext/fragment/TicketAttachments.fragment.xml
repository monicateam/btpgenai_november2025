<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros" xmlns:u="sap.ui.unified" >
	<VBox core:require="{ handler: 'monicasanchez1h04/customerpanel/ext/fragment/TicketAttachments'}">
		<Table items="{vista>/attachments}" alternateRowColors="true" id="tableAttachments" mode="MultiSelect" busy="{vista>/busyTableAttachments}"
			sticky="HeaderToolbar,ColumnHeaders">
			<headerToolbar>
				<OverflowToolbar width="100%">
					<ToolbarSpacer />
                    <u:FileUploader
						busy="{vista>/busyUploadFile}"
                        id="uploadAttachmentTickets"
                        icon="sap-icon://add" 
						busyIndicatorDelay="100"
						httpRequestMethod="Put"
						maximumFileSize="1"
						uploadUrl="{vista>/urlUploadAttachments}"
                        buttonOnly="true"
                        buttonText="{i18n>uploadFile}"
                        uploadOnChange="false"
                        useMultipart="false"
                        change="handler.onUploadChangeTickets"
						sendXHR="true"
                    />
				</OverflowToolbar>
			</headerToolbar>
			<columns>
				<Column>
					<Text text="{i18n>filename}"/>
				</Column>
				<Column width="9em">
					<Text text="{i18n>mediaType}"/>
				</Column>
				<Column vAlign="Middle" hAlign="Center" width="12em">
					<Text text=""/>
				</Column>
			</columns>
			<items>
				<ColumnListItem>
					<cells>
						
						<Text text="{vista>fileName}"/>
						<Text text="{vista>mimeType}"/>
						<HBox>
							<core:Icon src="sap-icon://download-from-cloud" press="handler.onPressDownload">
								<core:customData>
									<core:CustomData key="uploadID" value="{vista>ID}"/>
								</core:customData>
							</core:Icon>
							<core:Icon src="sap-icon://delete" press="handler.onPressDeleteFile" class="sapUiTinyMarginBegin">
								<core:customData>
									<core:CustomData key="uploadID" value="{vista>ID}"/>
								</core:customData>
							</core:Icon>
						</HBox>
					</cells>
				</ColumnListItem>
			</items>
		</Table>
	</VBox>
</core:FragmentDefinition>